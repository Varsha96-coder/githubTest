# Browser Rendering<h1>

<img class="circular--square" src="VARSHA.jpeg" width="50" height="50"/> By <font color = "blue">Varsha Saraf</font>

### What is Browser Rendering?
    Browser Rendering is the process for rendering a specific web page requested by the user in the browser.
    It interprets HTML and XML documents along with the images that are styled or formatted using CSS.
    Thus, it gives a final layout which is display on the user interface. 
    As the user requests for any document, the rendering engine starts fetching the content.
    This is done via the networking layer.

![Image](webkitflow.png)

#### Process of Browser Rendering: 

* The browser first reads the text written in HTML when a web page is loaded.
* It then contructs DOM Tree from it.
* Then it checks for CSS whether it is inline, embedded, or external.
* Constructs the CSSOM Tree from it.
* It constructs the Render-Tree from it after these trees get constructed.

![Render Tree](rendertree.png)

### Before describing about the whole process on rendering, let us know about some terms:

Terms | Description
------------ | -------------
Html | HTML stands for Hyper Text Markup Language. It is the standard markup language for creating Web pages. HTML describes the structure of a Web page.
CSS | CSS stands for Cascading Style Sheets. It describes how HTML elements are to be displayed on screen, paper, or in other media. It saves a lot of work. It can control the layout of multiple web pages all at once
JavaScript| JavaScript is the Programming Language for the Web. It can update and change both HTML and CSS. It can calculate, manipulate and validate data.
DOM | The Document Object Model (DOM) is an application programming interface (API) for HTML and XML documents. It defines the logical structure of documents and the way a document is accessed and manipulated.


##  Mechanism behind the rendering services of HTML, CSS and JavaScript to DOM: 

Construction of DOM
*  When the renderer process receives a commit message for a navigation and starts to receive HTML data, the main thread begins to parse the text string (HTML) and turn it into a Document Object Model (DOM).
* Parsing an HTML document into a DOM is defined by the HTML Standard. We may have noticed that feeding HTML to a browser never throws an error. For example, missing closing paragraph tag is a valid HTML. This is because the HTML specification is designed to handle those errors gracefully. 

Subresource loading
* A website usually uses external resources like images, CSS, and JavaScript. Those files need to be loaded from network or cache. 
* The main thread could request them one by one as they find them while parsing to build a DOM.
* If there are things like **img** or **link** in the HTML document, preload scanner peeks at tokens generated by HTML parser and sends requests to the network thread in the browser process.

JavaScript can block the parsing
* When the HTML parser finds a *script* tag, it pauses the parsing of the HTML document and has to load, parse, and execute the JavaScript code.
* JavaScript can change the shape of the document using things like document.write() which changes the entire DOM structure
* This is why the HTML parser has to wait for JavaScript to run before it can resume parsing of the HTML document.

## References
* https://www.browserstack.com/guide/browser-rendering-engine
* https://developers.google.com/web/updates/2018/09/inside-browser-part3
* https://www.w3schools.com
